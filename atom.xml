<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://rhizophora.github.io/</id>
    <title>Helloå•Šï¼Œæ ‘å“¥</title>
    <updated>2020-04-30T10:50:17.741Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://rhizophora.github.io/"/>
    <link rel="self" href="https://rhizophora.github.io/atom.xml"/>
    <subtitle>å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Š</subtitle>
    <logo>https://rhizophora.github.io/images/avatar.png</logo>
    <icon>https://rhizophora.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, Helloå•Šï¼Œæ ‘å“¥</rights>
    <entry>
        <title type="html"><![CDATA[Kotlinå­¦ä¹ ç¬”è®°ä¸‰-ç›¸å¯¹Javaæ›´æ–¹ä¾¿çš„]]></title>
        <id>https://rhizophora.github.io/post/kotlin-xue-xi-bi-ji-3/</id>
        <link href="https://rhizophora.github.io/post/kotlin-xue-xi-bi-ji-3/">
        </link>
        <updated>2020-04-30T12:26:15.000Z</updated>
        <content type="html"><![CDATA[<p>æ¬¡æ„é€ å™¨ï¼š</p>
<pre><code class="language-kotlin">class User {
    var name: String
    constructor(name: String) {
        this.name = name
    }
}
</code></pre>
<p>ä¸»æ„é€ å™¨ï¼š</p>
<pre><code class="language-kotlin">class User constructor(name: String) {
    //                  ğŸ‘‡ è¿™é‡Œä¸æ„é€ å™¨ä¸­çš„ name æ˜¯åŒä¸€ä¸ª
    var name: String = name
}
</code></pre>
<p>åœ¨kotlinä¸­ä¸€ä¸ªç±»æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªä¸»æ„é€ å™¨ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ï¼Œæ¬¡çº§æ„é€ å™¨æ²¡æœ‰ä¸ªæ•°é™åˆ¶</p>
<p>ä¸»æ„é€ å™¨ä¸­çš„å‚æ•°é™¤äº†å¯ä»¥åœ¨ç±»çš„å±æ€§ä¸­ä½¿ç”¨ï¼Œè¿˜å¯ä»¥åœ¨initä»£ç å—ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="language-kotlin">class User constructor(name: String) {
    var name: String
    init {
        this.name = name
    }
}
</code></pre>
<p>å…¶ä¸­initä»£ç å—æ˜¯ç´§è·Ÿåœ¨ä¸»æ„é€ å™¨ä¹‹åæ‰§è¡Œçš„ï¼Œè¿™æ˜¯å› ä¸ºä¸»æ„é€ å™¨æœ¬èº«æ²¡æœ‰ä»£ç ä½“ã€‚</p>
<p>å¦å¤–ï¼Œå¦‚æœç±»ä¸­æœ‰ä¸»æ„é€ å™¨ï¼Œé‚£ä¹ˆå…¶ä»–æ¬¡çº§æ„é€ å™¨éƒ½éœ€è¦é€šè¿‡thiså…³é”®å­—è°ƒç”¨ä¸»æ„é€ å™¨ã€‚ä¸ç„¶å°±ä¼šç¼–è¯‘æŠ¥é”™ã€‚å› ä¸ºåˆ›å»ºç±»çš„å¯¹è±¡æ—¶ï¼Œä¸ç®¡ä½¿ç”¨å“ªä¸ªæ„é€ å™¨ï¼Œéƒ½éœ€è¦ä¸»æ„é€ å™¨çš„å‚ä¸ï¼›åœ¨ç±»çš„åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆæ‰§è¡Œçš„å°±æ˜¯ä¸»æ„é€ å™¨ã€‚</p>
<pre><code class="language-kotlin">class User constructor(var name: String) {
                                   // ğŸ‘‡  ğŸ‘‡ ç›´æ¥è°ƒç”¨ä¸»æ„é€ å™¨
    constructor(name: String, id: Int) : this(name) {
    }
                                                // ğŸ‘‡ é€šè¿‡ä¸Šä¸€ä¸ªæ¬¡æ„é€ å™¨ï¼Œé—´æ¥è°ƒç”¨ä¸»æ„é€ å™¨
    constructor(name: String, id: Int, age: Int) : this(name, id) {
    }
}
</code></pre>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸»æ„é€ å™¨ä¸­çš„constructorå…³é”®å­—å¯ä»¥çœç•¥ï¼š</p>
<pre><code class="language-kotlin">class User(name: String) {
    var name: String = name
}
</code></pre>
<p>ä½†æœ‰äº›åœºæ™¯ï¼Œconstructoræ˜¯ä¸å¯ä»¥çœç•¥çš„ï¼Œä¾‹å¦‚åœ¨ä¸»æ„é€ å™¨ä¸Šä½¿ç”¨å¯è§æ€§ä¿®é¥°ç¬¦æˆ–è€…æ³¨è§£</p>
<pre><code class="language-kotlin">class User private constructor(name: String) {
//           ğŸ‘† ä¸»æ„é€ å™¨è¢«ä¿®é¥°ä¸ºç§æœ‰çš„ï¼Œå¤–éƒ¨å°±æ— æ³•è°ƒç”¨è¯¥æ„é€ å™¨
}
</code></pre>
<p>å…¶å®è¿˜å¯ä»¥åœ¨ä¸»æ„é€ å™¨ä¸­ç›´æ¥å£°æ˜å±æ€§ï¼š</p>
<pre><code class="language-kotlin">class User(var name: String) {
}
// ç­‰ä»·äºï¼š
class User(name: String) {
  var name: String = name
}
</code></pre>
<p>ï¼šå¯ä»¥ç†è§£ä¸ºä¾èµ–</p>
<p>å‡½æ•°ç®€åŒ–ï¼š</p>
<p>ä½¿ç”¨=è¿æ¥è¿”å›å€¼</p>
<pre><code class="language-kotlin">fun area(width: Int, height: Int): Int {
    return width * height
}
</code></pre>
<p>è¿™ç§åªæœ‰ä¸€è¡Œçš„ä»£ç ï¼Œå¯ä»¥è¿™æ ·å†™</p>
<pre><code class="language-kotlin">fun area(width: Int, height: Int): Int = width * height
</code></pre>
<p>å› ä¸ºkotlinæœ‰ç±»å‹æ¨æ–­ï¼Œæ‰€ä»¥è¿˜å¯ä»¥æ›´ç®€æ´</p>
<pre><code class="language-kotlin">fun area(width: Int, height: Int) = width * height
</code></pre>
<p>å¯¹äºæ²¡æœ‰è¿”å›å€¼çš„ï¼Œå¯ä»¥ç†è§£ä¸ºè¿”å›å€¼æ˜¯Unit:</p>
<pre><code class="language-kotlin">fun sayHi(name: String) = println(&quot;Hi &quot; + name)
</code></pre>
<p>å‚æ•°é»˜è®¤å€¼ï¼š</p>
<p>javaä¸­çš„é‡è½½åœ¨kotlinä¸­æœ‰ä¸€ç§æ›´ç®€å•çš„æ–¹å¼ï¼Œå°±æ˜¯å‚æ•°é»˜è®¤å€¼</p>
<p>eg:java</p>
<pre><code class="language-java">public void sayHi(String name) {
    System.out.println(&quot;Hi &quot; + name);
}

public void sayHi() {
    sayHi(&quot;world&quot;); 
}
</code></pre>
<p>kotlin:</p>
<pre><code class="language-kotlin">fun sayHi(name: String = &quot;world&quot;) = println(&quot;Hi &quot; + name)
</code></pre>
<p>è¿™é‡Œçš„worldå°±æ˜¯å‚æ•°nameçš„é»˜è®¤å€¼ï¼Œå½“è°ƒç”¨è¯¥å‚æ•°æ—¶ä¸ä¼ å‚æ•°ï¼Œå°±ä¼šä½¿ç”¨è¯¥é»˜è®¤å€¼ã€‚</p>
<p>ç­‰ä»·äºä¸Šé¢javaçš„é‡è½½æ–¹æ³•ã€‚</p>
<pre><code class="language-kotlin">sayHi(&quot;kaixue.io&quot;)
sayHi() // ä½¿ç”¨äº†é»˜è®¤å€¼ &quot;world&quot;
</code></pre>
<p>ä½†æ˜¯å‚æ•°é»˜è®¤å€¼è°ƒç”¨æ—¶ä¹Ÿæœ‰é™åˆ¶çš„ã€‚</p>
<pre><code class="language-kotlin">fun sayHi(name: String = &quot;world&quot;, age: Int) {
    ...
}

sayHi(10)
//    ğŸ‘† è¿™æ—¶æƒ³ä½¿ç”¨é»˜è®¤å€¼è¿›è¡Œè°ƒç”¨ï¼ŒIDE ä¼šæŠ¥ä»¥ä¸‹ä¸¤ä¸ªé”™è¯¯
// The integer literal does not conform to the expected type String
// No value passed for parameter 'age'
</code></pre>
<p>å‘½åå‚æ•°ï¼š</p>
<pre><code class="language-kotlin">fun sayHi(name: String = &quot;world&quot;, age: Int) {
    ...
}
      ğŸ‘‡   
sayHi(age = 21)
</code></pre>
<p>è¿™æ‰æ˜¯æ­£ç¡®å†™æ³•ï¼Œéœ€è¦æ˜¾å¼æŒ‡å®šå‚æ•°ageçš„åç§°ï¼Œè¿™å°±æ˜¯å‘½åå‚æ•°ã€‚kotlinä¸­æ¯ä¸€ä¸ªå‡½æ•°å‚æ•°éƒ½å¯ä»¥ä½œä¸ºå‘½åå‚æ•°ã€‚</p>
<pre><code class="language-kotlin">fun sayHi(name: String = &quot;world&quot;, age: Int, isStudent: Boolean = true, isFat: Boolean = true, isTall: Boolean = true) {
    ...
}
</code></pre>
<p>è°ƒç”¨æ—¶å¯ä»¥è¿™æ ·</p>
<pre><code class="language-kotlin">sayHi(name = &quot;wo&quot;, age = 21, isStudent = false, isFat = true, isTall = false)
</code></pre>
<p>ä¸å‘½åå‚æ•°ç›¸å¯¹çš„ä¸€ä¸ªæ¦‚å¿µè¢«ç§°ä¸ºæœªçŸ¥å‚æ•°ï¼Œä¹Ÿå°±æ˜¯æŒ‰ä½ç½®é¡ºåºè¿›è¡Œå‚æ•°å¡«å†™ã€‚</p>
<p>å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå¦‚æœæ··ç”¨ä½ç½®å‚æ•°ä¸å‘½åå‚æ•°ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„ä½ç½®å‚æ•°éƒ½åº”è¯¥æ”¾åœ¨ç¬¬ä¸€ä¸ªå‘½åå‚æ•°ä¹‹å‰ã€‚</p>
<pre><code class="language-kotlin">fun sayHi(name: String = &quot;world&quot;, age: Int) {
    ...
}

sayHi(name = &quot;wo&quot;, 21) // ğŸ‘ˆ IDE ä¼šæŠ¥é”™ï¼ŒMixing named and positioned arguments is not allowed
sayHi(&quot;wo&quot;, age = 21) // ğŸ‘ˆ è¿™æ˜¯æ­£ç¡®çš„å†™æ³•
</code></pre>
<p>æœ¬åœ°å‡½æ•°ï¼ˆåµŒå¥—å‡½æ•°ï¼‰</p>
<p>eg:</p>
<pre><code class="language-kotlin">fun login(user: String, password: String, illegalStr: String) {
    // éªŒè¯ user æ˜¯å¦ä¸ºç©º
    if (user.isEmpty()) {
        throw IllegalArgumentException(illegalStr)
    }
    // éªŒè¯ password æ˜¯å¦ä¸ºç©º
    if (password.isEmpty()) {
        throw IllegalArgumentException(illegalStr)
    }
}
</code></pre>
<p>æ£€æŸ¥å‚æ•°è¿™éƒ¨åˆ†å¯ä»¥æŠ½å–ä¸ºä¸€ä¸ªå•ç‹¬çš„å‡½æ•°ï¼Œå¹¶ä¸”åˆä¸æƒ³å¯¹å¤–æš´éœ²ï¼Œå¯ä»¥ç”¨åˆ°åµŒå¥—å‡½æ•°ã€‚</p>
<pre><code class="language-kotlin">fun login(user: String, password: String, illegalStr: String) {
           ğŸ‘‡ 
    fun validate(value: String, illegalStr: String) {
      if (value.isEmpty()) {
          throw IllegalArgumentException(illegalStr)
      }
    }
   ğŸ‘‡
    validate(user, illegalStr)
    validate(password, illegalStr)
}
</code></pre>
<p>é‡å¤çš„éªŒè¯é€»è¾‘å°±æ”¾è¿›äº†åµŒå¥—å‡½æ•°validateä¸­ï¼Œå¹¶ä¸”loginå‡½æ•°å¤–çš„å…¶ä»–åœ°æ–¹æ— æ³•è®¿é—®è¿™ä¸ªåµŒå¥—å‡½æ•°çš„ã€‚</p>
<p>å› ä¸ºåµŒå¥—å‡½æ•°æ˜¯å¯ä»¥è®¿é—®å®ƒå¤–éƒ¨çš„æ‰€æœ‰å˜é‡æˆ–è€…å¸¸é‡ï¼Œæ¯”å¦‚ç±»ä¸­çš„å±æ€§ã€å½“å‰å‡½æ•°ä¸­çš„å‚æ•°ä¸å˜é‡ç­‰ã€‚</p>
<p>å¯ä»¥æ”¹è¿›ä¸‹ï¼š</p>
<pre><code class="language-kotlin">fun login(user: String, password: String, illegalStr: String) {
    fun validate(value: String) {
        if (value.isEmpty()) {
                                              ğŸ‘‡
            throw IllegalArgumentException(illegalStr)
        }
    }
    validate(user)
    validate(password)
}
</code></pre>
<p>å­—ç¬¦ä¸²</p>
<p>kotlinå¯ä»¥å’Œjavaä¸€æ ·é€šè¿‡+æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œå˜é‡è¾ƒå¤šæ—¶ï¼Œjavaä½¿ç”¨çš„æ˜¯String.format</p>
<pre><code class="language-java">System.out.print(String.format(&quot;Hi %s&quot;, name));
</code></pre>
<p>kotlinæ›´æ–¹ä¾¿çš„å†™æ³•ï¼š</p>
<pre><code class="language-kotlin">val name = &quot;world&quot;
//         ğŸ‘‡ ç”¨ '$' ç¬¦å·åŠ å‚æ•°çš„æ–¹å¼
println(&quot;Hi $name&quot;)
</code></pre>
<p>é™¤äº†å˜é‡ï¼Œ$åè¿˜å¯ä»¥è·Ÿè¡¨è¾¾å¼ï¼Œä½†è¦ç”¨{}åŒ…èµ·æ¥</p>
<pre><code class="language-kotlin">val name = &quot;world&quot;
println(&quot;Hi ${name.length}&quot;) 
</code></pre>
<p>å­—ç¬¦ä¸²æ¨¡æ¿è¿˜æ”¯æŒè½¬ä¹‰å­—ç¬¦ï¼Œæ¯”å¦‚\n è¿›è¡Œæ¢è¡Œæ“ä½œï¼š</p>
<pre><code class="language-kotlin">val name = &quot;world!\n&quot;
println(&quot;Hi $name&quot;) // ğŸ‘ˆ ä¼šå¤šæ‰“ä¸€ä¸ªç©ºè¡Œ
</code></pre>
<p>raw string(åŸç”Ÿå­—ç¬¦ä¸²)</p>
<p>æœ‰æ—¶å€™ä¸æƒ³å†™è¿‡å¤šè½¬ä¹‰å­—ç¬¦ï¼Œå°±å¯ä»¥é€šè¿‡åŸç”Ÿå­—ç¬¦ä¸²å®ç°</p>
<p>ç”¨æ³•å°±æ˜¯ä½¿ç”¨ä¸€å¯¹ â€œâ€â€œ å°†å­—ç¬¦ä¸²æ‹¬èµ·æ¥</p>
<pre><code class="language-kotlin">val name = &quot;world&quot;
val myName = &quot;kotlin&quot;
           ğŸ‘‡
val text = &quot;&quot;&quot;
      Hi $name!
    My name is $myName.\n
&quot;&quot;&quot;
println(text)
</code></pre>
<p>æ³¨æ„ç‚¹ï¼š</p>
<p>\nå¹¶ä¸ä¼šè¢«è½¬ä¹‰</p>
<p>æœ€åè¾“å‡ºçš„å†…å®¹ä¸å†™çš„å†…å®¹å®Œå…¨ä¸€è‡´ï¼ŒåŒ…æ‹¬å®é™…çš„æ¢è¡Œ</p>
<p>$ç¬¦å·å¼•ç”¨å˜é‡ä»ç„¶ç”Ÿæ•ˆ</p>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code>     Hi world!
    My name is kotlin.\n
</code></pre>
<p>å¯¹é½æ–¹å¼çœ‹èµ·æ¥ä¸å¤ªä¼˜é›…ï¼ŒåŸç”Ÿå­—ç¬¦ä¸²è¿˜å¯ä»¥é€šè¿‡trimMargin()å‡½æ•°å»é™¤æ¯è¡Œå‰é¢çš„ç©ºæ ¼ï¼š</p>
<pre><code class="language-kotlin">val text = &quot;&quot;&quot;
     ğŸ‘‡ 
      |Hi world!
    |My name is kotlin.
&quot;&quot;&quot;.trimMargin()
println(text)
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code>Hi world!
My name is kotlin.
</code></pre>
<p>è¿™é‡ŒtrimMarginçš„æ³¨æ„ç‚¹ï¼š</p>
<p>|ç¬¦å·ä¸ºé»˜è®¤çš„è¾¹ç•Œå‰ç¼€ï¼Œå‰é¢åªèƒ½æœ‰ç©ºæ ¼ï¼Œå¦åˆ™ä¸ä¼šç”Ÿæ•ˆ</p>
<p>è¾“å‡ºæ—¶|ç¬¦å·ä»¥åŠå®ƒå‰é¢çš„ç©ºæ ¼éƒ½ä¼šè¢«åˆ é™¤</p>
<p>è¾¹ç•Œå‰ç¼€è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–å­—ç¬¦ï¼Œæ¯”å¦‚trimMargin(&quot;/&quot;),åªä¸è¿‡ä¸Šæ–¹çš„ä»£ç ä½¿ç”¨çš„æ˜¯å‚æ•°é»˜è®¤å€¼çš„è°ƒç”¨æ–¹å¼ã€‚</p>
<p>æ•°ç»„å’Œé›†åˆ</p>
<p>æ•°ç»„å’Œé›†åˆçš„æ“ä½œç¬¦</p>
<pre><code class="language-kotlin">val intArray = intArrayOf(1, 2, 3)
val strList = listOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)
</code></pre>
<p>forEach:éå†æ¯ä¸€ä¸ªå…ƒç´ </p>
<pre><code class="language-kotlin">intArray.forEach { i -&gt;
    print(i + &quot; &quot;)
}
// è¾“å‡ºï¼š1 2 3 
</code></pre>
<p>filter: å¯¹æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œè¿‡æ»¤æ“ä½œï¼Œå¦‚æœlambdaè¡¨è¾¾å¼ä¸­çš„æ¡ä»¶æˆç«‹åˆ™ç•™ä¸‹è¯¥å…ƒç´ ï¼Œå¦åˆ™å‰”é™¤ï¼Œæœ€ç»ˆç”Ÿæˆæ–°çš„é›†åˆ</p>
<pre><code class="language-kotlin">// [1, 2, 3]
      â¬‡ï¸
//  {2, 3}

//            ğŸ‘‡ æ³¨æ„ï¼Œè¿™é‡Œå˜æˆäº† List
val newList: List = intArray.filter { i -&gt;
    i != 1 // ğŸ‘ˆ è¿‡æ»¤æ‰æ•°ç»„ä¸­ç­‰äº 1 çš„å…ƒç´ 
}
</code></pre>
<p>map:éå†æ¯ä¸ªå…ƒç´ å¹¶æ‰§è¡Œç»™å®šè¡¨è¾¾å¼ï¼Œæœ€ç»ˆå½¢æˆæ–°çš„é›†åˆ</p>
<pre><code class="language-kotlin">//  [1, 2, 3]
       â¬‡ï¸
//  {2, 3, 4}

val newList: List = intArray.map { i -&gt;
    i + 1 // ğŸ‘ˆ æ¯ä¸ªå…ƒç´ åŠ  1
}
</code></pre>
<p>flatMap: éå†æ¯ä¸ªå…ƒç´ ï¼Œå¹¶ä¸ºæ¯ä¸ªå…ƒç´ åˆ›å»ºæ–°çš„é›†åˆï¼Œæœ€ç»ˆåˆå¹¶åˆ°ä¸€ä¸ªé›†åˆé‡Œ</p>
<pre><code class="language-kotlin">//          [1, 2, 3]
               â¬‡ï¸
// {&quot;2&quot;, &quot;a&quot; , &quot;3&quot;, &quot;a&quot;, &quot;4&quot;, &quot;a&quot;}

intArray.flatMap { i -&gt;
    listOf(&quot;${i + 1}&quot;, &quot;a&quot;) // ğŸ‘ˆ ç”Ÿæˆæ–°é›†åˆ
}
</code></pre>
<p>é™¤äº†æ•°ç»„å’Œé›†åˆï¼Œkotliné‡Œè¿˜æœ‰ä¸€ç§å¸¸è§çš„æ•°æ®ç±»å‹:Range</p>
<p>Range</p>
<p>javaä¸­å¹¶æ²¡æœ‰rangeçš„æ¦‚å¿µï¼Œkotliné‡Œçš„rangeè¡¨ç¤ºåŒºé—´çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯èŒƒå›´ã€‚åŒºé—´çš„å¸¸è§å†™æ³•ï¼š</p>
<pre><code class="language-kotlin">val range: IntRange = 0..1000 
</code></pre>
<p>è¿™é‡Œçš„0..1000å°±è¡¨ç¤ºä» 0åˆ°1000çš„èŒƒå›´ï¼ŒåŒ…æ‹¬1000ï¼Œ[0,1000]ã€‚é™¤äº†IntRangeè¿˜æœ‰CharRangeï¼ŒLongRange</p>
<p>kotliné‡Œæ²¡æœ‰çº¯çš„å¼€åŒºé—´çš„å®šä¹‰ï¼Œä¸è¿‡æœ‰åŠå¼€åŒºé—´çš„å®šä¹‰ï¼š</p>
<pre><code class="language-kotlin">val range: IntRange = 0 until 1000 
</code></pre>
<p>è¿™ä¸ªä»£è¡¨[0,1000),ä¸åŒ…å«1000</p>
<p>Rangeè¿™ä¸ªä¸œè¥¿ï¼Œå¤©ç”Ÿå°±æ˜¯ç”¨æ¥éå†çš„</p>
<pre><code class="language-kotlin">val range = 0..1000
//     ğŸ‘‡ é»˜è®¤æ­¥é•¿ä¸º 1ï¼Œè¾“å‡ºï¼š0, 1, 2, 3, 4, 5, 6, 7....1000,
for (i in range) {
    print(&quot;$i, &quot;)
}
</code></pre>
<p>è¿™é‡Œinå…³é”®å­—å¯ä»¥ä¸forå¾ªç¯ç»“åˆä½¿ç”¨ï¼Œè¡¨ç¤ºæŒ¨ä¸ªéå†rangeä¸­çš„å€¼ã€‚</p>
<p>é™¤äº†ä½¿ç”¨é»˜è®¤çš„æ­¥é•¿1ï¼Œè¿˜å¯ä»¥é€šè¿‡stepè®¾ç½®æ­¥é•¿ï¼š</p>
<pre><code class="language-kotlin">val range = 0..1000
//               ğŸ‘‡ æ­¥é•¿ä¸º 2ï¼Œè¾“å‡ºï¼š0, 2, 4, 6, 8, 10,....1000,
for (i in range step 2) {
    print(&quot;$i, &quot;)
}
</code></pre>
<p>ä»¥ä¸Šæ˜¯é€’å¢åŒºé—´ï¼Œkotlinè¿˜æä¾›äº†é€’å‡åŒºé—´downToï¼Œä¸è¿‡é€’å‡æ²¡æœ‰åŠå¼€åŒºé—´çš„ç”¨æ³•ï¼š</p>
<pre><code class="language-kotlin">//            ğŸ‘‡ è¾“å‡ºï¼š4, 3, 2, 1, 
for (i in 4 downTo 1) {
    print(&quot;$i, &quot;)
}
</code></pre>
<p>4 downTo 1 å°±è¡¨ç¤ºé€’å‡çš„é—­åŒºé—´[4,1]ã€‚è¿™é‡Œçš„downToä»¥åŠä¸Šé¢çš„stepéƒ½å«åšä¸­ç¼€è¡¨è¾¾å¼ã€‚</p>
<p>Sequence,åˆå«åšæƒ°æ€§é›†åˆæ“ä½œã€‚</p>
<pre><code class="language-kotlin">val sequence = sequenceOf(1, 2, 3, 4)
val result: Sequence&lt;Int&gt; = sequence
    .map { i -&gt;
        println(&quot;Map $i&quot;)
        i * 2 
    }
    .filter { i -&gt;
        println(&quot;Filter $i&quot;)
        i % 3  == 0 
    }
ğŸ‘‡
println(result.first()) // ğŸ‘ˆ åªå–é›†åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ 
</code></pre>
<p>æƒ°æ€§çš„æ¦‚å¿µé¦–å…ˆå°±æ˜¯è¯´åœ¨ã€ŒğŸ‘‡ã€æ ‡æ³¨ä¹‹å‰çš„ä»£ç è¿è¡Œæ—¶ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œå®ƒåªæ˜¯å®šä¹‰äº†ä¸€ä¸ªæ‰§è¡Œæµç¨‹ï¼Œåªæœ‰ <code>result</code> è¢«ä½¿ç”¨åˆ°çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œã€‚</p>
<p>å½“ã€ŒğŸ‘‡ã€çš„ <code>println</code> æ‰§è¡Œæ—¶æ•°æ®å¤„ç†æµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p>
<ul>
<li>å–å‡ºå…ƒç´  1 -&gt; map ä¸º 2 -&gt; filter åˆ¤æ–­ 2 æ˜¯å¦èƒ½è¢« 3 æ•´é™¤</li>
<li>å–å‡ºå…ƒç´  2 -&gt; map ä¸º 4 -&gt; filter åˆ¤æ–­ 4 æ˜¯å¦èƒ½è¢« 3 æ•´é™¤</li>
<li>...</li>
</ul>
<p>æƒ°æ€§æŒ‡å½“å‡ºç°æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œ<code>Sequence</code> å°±ä¸ä¼šæ‰§è¡Œåé¢çš„å…ƒç´ éå†äº†ï¼Œå³è·³è¿‡äº† 8 çš„éå†ã€‚</p>
<p>è€ŒListæ˜¯æ²¡æœ‰æƒ°æ€§çš„ï¼šå£°æ˜ä¹‹åç«‹å³æ‰§è¡Œã€‚</p>
<p>Sequenceè¿™ç§ç±»ä¼¼æ‡’åŠ è½½çš„å®ç°æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>
<p>ä¸€æ—¦æ»¡è¶³éå†é€€å‡ºçš„æ¡ä»¶ï¼Œå°±å¯ä»¥çœç•¥åç»­ä¸å¿…è¦çš„éå†è¿‡ç¨‹ã€‚</p>
<p>åƒListè¿™ç§å®ç°iterableæ¥å£çš„é›†åˆç±»ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡å‡½æ•°å°±ä¼šç”Ÿæˆä¸€ä¸ªiterableï¼Œä¸‹ä¸ªå‡½æ•°å†åŸºäºæ–°çš„iterableæ‰§è¡Œï¼Œæ¯æ¬¡å‡½æ•°è°ƒç”¨äº§ç”Ÿçš„ä¸´æ—¶iterableä¼šå¯¼è‡´é¢å¤–çš„å†…å­˜æ¶ˆè€—ï¼Œè€ŒSequenceåœ¨æ•´ä¸ªæµç¨‹åªæœ‰ä¸€ä¸ªã€‚</p>
<p>æ‰€ä»¥ï¼ŒSequenceè¿™ç§æ•°æ®ç±»å‹å¯ä»¥åœ¨æ•°æ®é‡æ¯”è¾ƒå¤§æˆ–è€…æ•°æ®é‡æœªçŸ¥çš„æ—¶å€™ï¼Œä½œä¸ºæµå¼å¤„ç†çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>æ¡ä»¶æ§åˆ¶</p>
<p>kotlinä¸­å¯¹æ¡ä»¶æ§åˆ¶è¿›è¡Œäº†è®¸å¤šçš„ä¼˜åŒ–ä»¥åŠæ”¹è¿›ã€‚</p>
<p>java if/else å†™æ³•ï¼š</p>
<pre><code class="language-java">int max;
if (a &gt; b) {
    max = a;
} else {
    max = b;
}
</code></pre>
<p>kotlinä¸­ï¼Œä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼Œä¸è¿‡kotlinä¸­ifè¯­å¥è¿˜å¯ä»¥ä½œä¸ºä¸€ä¸ªè¡¨è¾¾å¼èµ‹å€¼ç»™å˜é‡ï¼š</p>
<pre><code class="language-kotlin">val max = if (a &gt; b) a else b
</code></pre>
<p>kotlinä¸­å¼ƒç”¨äº†ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆæ¡ä»¶ï¼Ÿç„¶åï¼šå¦åˆ™ï¼‰ï¼Œå¯ä»¥ç”¨if/elseæ¥ä»£æ›¿å®ƒã€‚</p>
<p>if/elseä¹Ÿå¯ä»¥åŠ å…¥ä»£ç å—ï¼Œæœ€åä¸€è¡Œä¼šä½œä¸ºç»“æœè¿”å›ï¼š</p>
<pre><code class="language-kotlin">val max = if (a &gt; b) {
    println(&quot;max:a&quot;)
    a // ğŸ‘ˆ è¿”å› a
} else {
    println(&quot;max:b&quot;)
    b // ğŸ‘ˆ è¿”å› b
}
</code></pre>
<p>åœ¨javaä¸­ï¼Œç”¨switchæ¥åˆ¤æ–­å˜é‡ä¸ä¸€ç³»åˆ—ä¸­çš„æŸä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼›</p>
<pre><code class="language-java">switch (x) {
    case 1: {
        System.out.println(&quot;1&quot;);
        break;
    }
    case 2: {
        System.out.println(&quot;2&quot;);
        break;
    }
    default: {
        System.out.println(&quot;default&quot;);
    }
}
</code></pre>
<p>åœ¨kotlinä¸­å˜æˆäº†when</p>
<pre><code class="language-kotlin">when (x) {
   ğŸ‘‡
    1 -&gt; { println(&quot;1&quot;) }
    2 -&gt; { println(&quot;2&quot;) }
   ğŸ‘‡
    else -&gt; { println(&quot;else&quot;) }
}
</code></pre>
<p>è¿™é‡Œä¸javaç›¸æ¯”çš„ä¸åŒç‚¹:</p>
<p>çœç•¥äº†caseå’Œbreak,kotlinè‡ªåŠ¨ä¸ºæ¯ä¸ªåˆ†æ”¯åŠ ä¸Šäº†breakçš„åŠŸèƒ½ï¼Œé˜²æ­¢åƒjavaå†™é”™ï¼›</p>
<p>javaé»˜è®¤çš„æ˜¯default,kotlinåˆ™æ˜¯else</p>
<p>ä¸if/elseä¸€æ ·ï¼Œwhenä¹Ÿå¯ä»¥ä½œä¸ºè¡¨è¾¾å¼è¿›è¡Œä½¿ç”¨ï¼Œåˆ†æ”¯ä¸­æœ€åä¸€è¡Œçš„ç»“æœä½œä¸ºè¿”å›å€¼ï¼Œè¿™æ ·æ“ä½œçš„è¯å°±å¿…é¡»è¦æœ‰elseåˆ†æ”¯ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯æ— è®ºæ€æ ·éƒ½æœ‰å€¼è¿”å›ï¼Œé™¤éå·²ç»åˆ—å‡ºäº†æ‰€æœ‰æƒ…å†µã€‚</p>
<pre><code class="language-kotlin">val value: Int = when (x) {
    1 -&gt; { x + 1 }
    2 -&gt; { x * 2 }
    else -&gt; { x + 5 }
}
</code></pre>
<p>åœ¨javaä¸­ï¼Œå½“å¤šç§æƒ…å†µä¹‹ä¸‹æ‰§è¡ŒåŒä¸€ä»½ä»£ç æ—¶ï¼Œ</p>
<pre><code class="language-kotlin">switch (x) {
    case 1:
    case 2: {
        System.out.println(&quot;x == 1 or x == 2&quot;);
        break;
    }
    default: {
        System.out.println(&quot;default&quot;);
    }
}
</code></pre>
<p>kotlinä¸­ï¼Œæ˜¯ç”¨ï¼Œéš”å¼€</p>
<pre><code class="language-kotlin">when (x) {
    ğŸ‘‡
    1, 2 -&gt; print(&quot;x == 1 or x == 2&quot;)
    else -&gt; print(&quot;else&quot;)
}
</code></pre>
<p>ä½¿ç”¨inæ£€æµ‹æ˜¯å¦åœ¨ä¸€ä¸ªåŒºé—´æˆ–è€…é›†åˆä¸­ï¼š</p>
<pre><code class="language-kotlin">when (x) {
   ğŸ‘‡
    in 1..10 -&gt; print(&quot;x åœ¨åŒºé—´ 1..10 ä¸­&quot;)
   ğŸ‘‡
    in listOf(1,2) -&gt; print(&quot;x åœ¨é›†åˆä¸­&quot;)
   ğŸ‘‡ // not in
    !in 10..20 -&gt; print(&quot;x ä¸åœ¨åŒºé—´ 10..20 ä¸­&quot;)
    else -&gt; print(&quot;ä¸åœ¨ä»»ä½•åŒºé—´ä¸Š&quot;)
}
</code></pre>
<p>æˆ–è€…ä½¿ç”¨isè¿›è¡Œç‰¹å®šç±»å‹çš„æ£€æµ‹ï¼š</p>
<pre><code class="language-kotlin">val isString = when(x) {
    ğŸ‘‡
    is String -&gt; true
    else -&gt; false
}
</code></pre>
<p>è¿˜å¯ä»¥çœç•¥whenåé¢çš„å‚æ•°ï¼Œæ¯ä¸€ä¸ªåˆ†æ”¯æ¡ä»¶éƒ½å¯ä»¥æ˜¯ä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼</p>
<pre><code class="language-kotlin">when {
   ğŸ‘‡
    str1.contains(&quot;a&quot;) -&gt; print(&quot;å­—ç¬¦ä¸² str1 åŒ…å« a&quot;)
   ğŸ‘‡
    str2.length == 3 -&gt; print(&quot;å­—ç¬¦ä¸² str2 çš„é•¿åº¦ä¸º 3&quot;)
}
</code></pre>
<p>å½“åˆ†æ”¯çš„åˆ¤æ–­æ¡ä»¶ä¸ºè¡¨è¾¾å¼æ—¶ï¼Œå“ªä¸€ä¸ªæ¡ä»¶å…ˆä¸ºtrueå°±æ‰§è¡Œå“ªä¸ªåˆ†æ”¯çš„ä»£ç å—</p>
<p>for</p>
<p>javaéå†é›†åˆæˆ–è€…æ•°ç»„ï¼š</p>
<pre><code class="language-kotlin">int[] array = {1, 2, 3, 4};
for (int item : array) {
    ...
}
</code></pre>
<p>kotlinéå†ï¼š</p>
<pre><code class="language-kotlin">val array = intArrayOf(1, 2, 3, 4)
          ğŸ‘‡
for (item in array) {
    ...
}
</code></pre>
<p>ä¸javaçš„ä¸åŒï¼š</p>
<p>åœ¨kotlinä¸­ï¼Œè¡¨ç¤ºå•ä¸ªå…ƒç´ çš„itemï¼Œä¸ç”¨æ˜¾ç¤ºå£°åç±»å‹</p>
<p>kotlinä½¿ç”¨çš„å…³é”®å­—æ˜¯in,è¡¨ç¤ºitemæ˜¯arrayé‡Œé¢çš„ä¸€ä¸ªå…ƒç´ </p>
<p>å¦å¤–ï¼Œkotlinçš„inåé¢çš„å˜é‡å¯ä»¥æ˜¯ä»»ä½•å®ç°iterableæ¥å£çš„å¯¹è±¡</p>
<p>åœ¨javaå¦ä¸€ç§å†™forå¾ªç¯çš„æ–¹å¼ï¼š</p>
<pre><code class="language-kotlin">for (int i = 0; i &lt;= 10; i++) {
    // éå†ä» 0 åˆ° 10
}
</code></pre>
<p>ä½†kotlinä¸­ä¹ˆæœ‰è¿™æ ·çš„å†™æ³•ï¼Œæ˜¯è¿™æ ·ï¼š</p>
<pre><code class="language-kotlin">for (i in 0..10) {
    println(i)
}
</code></pre>
<p>try-catch</p>
<p>kotlinæ•è·å¼‚å¸¸çš„å†™æ³•å’Œjavaå·®ä¸å¤šï¼š</p>
<pre><code class="language-kotlin">try {
    ...
}
catch (e: Exception) {
    ...
}
finally {
    ...
}
</code></pre>
<p>ä½†æ˜¯ä¹Ÿæœ‰ä¸åŒç‚¹:</p>
<p>åœ¨javaä¸­ï¼Œè°ƒå‡ºä¸€ä¸ªæŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³•æ—¶ï¼Œéœ€è¦å¯¹å¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™</p>
<pre><code class="language-java">public class User{
    void sayHi() throws IOException {
    }
    
    void test() {
        sayHi();
        // ğŸ‘† IDE æŠ¥é”™ï¼ŒUnhandled exception: java.io.IOException
    }
}
</code></pre>
<p>ä½†æ˜¯åœ¨kotlinä¸­ï¼Œè°ƒç”¨ä¸Šæ–¹userç±»çš„sayHiæ–¹æ³•ä¸ä¼šæŠ¥é”™</p>
<pre><code class="language-kotlin">val user = User()
user.sayHi() // ğŸ‘ˆ æ­£å¸¸è°ƒç”¨ï¼ŒIDE ä¸ä¼šæŠ¥é”™ï¼Œä½†è¿è¡Œæ—¶ä¼šå‡ºé”™
</code></pre>
<p>å› ä¸ºkotlinä¸­çš„å¼‚å¸¸æ˜¯ä¸ä¼šè¢«æ£€æŸ¥çš„ï¼Œåªæœ‰åœ¨è¿è¡Œæ—¶å¦‚æœsayHiæŠ›å‡ºå¼‚å¸¸æ‰ä¼šå‡ºé”™ã€‚</p>
<p>kotlinä¸­çš„try-catchä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå…è®¸ä»£ç å—çš„æœ€åä¸€è¡Œä½œä¸ºè¿”å›å€¼ã€‚</p>
<pre><code class="language-kotlin">val a: Int? = try { parseInt(input) } catch (e: NumberFormatException) { null }
</code></pre>
<p>?.å’Œ?:</p>
<p>?:æ˜¯å¦å¤–ä¸€ä¸ªå¸¸ç”¨çš„å¤åˆç¬¦å·ï¼Œå¯ä»¥åœ¨åˆ¤ç©ºæ—¶æ›´åŠ æ–¹ä¾¿ã€‚</p>
<p>è°ƒç”¨?.åœ¨å¯¹è±¡éç©ºæ—¶ä¼šæ‰§è¡Œåé¢çš„è°ƒç”¨ï¼Œå¯¹è±¡ä¸ºç©ºæ—¶å°±ä¼šè¿”å›nullã€‚å¦‚æœè¿™æ—¶å°†è¯¥è¡¨è¾¾å¼èµ‹å€¼ç»™ä¸€ä¸ªä¸å¯ç©ºçš„å˜é‡ï¼š</p>
<pre><code class="language-kotlin">val str: String? = &quot;Hello&quot;
var length: Int = str?.length
//                ğŸ‘† ï¼ŒIDE æŠ¥é”™ï¼ŒType mismatch. Required:Int. Found:Int?
</code></pre>
<p>å› ä¸ºlengthä¸ºä¸å¯ç©ºå˜é‡ï¼Œä¸èƒ½è®©å¯ç©ºå˜é‡èµ‹å€¼ç»™å®ƒ</p>
<p>è¿™æ—¶å°±å¯ç”¨Elvisæ“ä½œç¬¦?:</p>
<pre><code class="language-kotlin">val str: String? = &quot;Hello&quot;
                             ğŸ‘‡
val length: Int = str?.length ?: -1
</code></pre>
<p>è¿™æ„æ€å°±æ˜¯å¦‚æœå·¦è¾¹è¡¨è¾¾å¼str?.lengthç»“æœä¸ºç©ºï¼Œåˆ™è¿”å›å³ä¾§çš„å€¼-1</p>
<p>Elvisæ“ä½œç¬¦è¿˜æœ‰å¦å¤–ä¸€ç§å¸¸è§ç”¨æ³•ï¼š</p>
<pre><code class="language-kotlin">fun validate(user: User) {
    val id = user.id ?: return // ğŸ‘ˆ éªŒè¯ user.id æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºæ—¶ return 
}
// ç­‰åŒäº

fun validate(user: User) {
    if (user.id == null) {
        return
    }
    val id = user.id
}
</code></pre>
<p><mark>å’Œ</mark>=</p>
<p>javaé‡Œ==æ¯”è¾ƒçš„å¦‚æœæ˜¯åŸºæœ¬æ•°æ®ç±»å‹å€¼ï¼Œåˆ™åˆ¤æ–­å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœæ¯”è¾ƒçš„æ˜¯Stringåˆ™è¡¨ç¤ºå¼•ç”¨åœ°å€æ˜¯å¦ç›¸ç­‰ï¼ŒStringå­—ç¬¦ä¸²å†…å®¹æ¯”è¾ƒ æ˜¯ç”¨çš„æ˜¯equal();</p>
<pre><code class="language-java">String str1 = &quot;123&quot;, str2 = &quot;123&quot;;
System.out.println(str1.equals(str2));
System.out.println(str1 == str2); 
</code></pre>
<p>kotlinä¹Ÿæœ‰ä¸¤å¼ ç›¸ç­‰æ¯”è¾ƒæ–¹å¼ï¼š</p>
<p>==ï¼šå¯ä»¥å¯¹åŸºæœ¬æ•°æ®ç±»å‹ä»¥åŠStringç­‰ç±»å‹è¿›è¡Œå†…å®¹æ¯”è¾ƒï¼Œç›¸å½“äºjavaçš„equals</p>
<p>=<mark>:å¯¹å¼•ç”¨çš„å†…å­˜åœ°å€è¿›è¡Œæ¯”è¾ƒï¼Œç›¸å½“äºjavaä¸­çš„</mark></p>
<p>ä¹Ÿå°±æ˜¯è¯´ javaä¸­çš„equalï¼Œåœ¨kotlinä¸­ä¸ä¹‹å¯¹åº”çš„æ˜¯==</p>
<pre><code class="language-kotlin">val str1 = &quot;123&quot;
val str2 = &quot;123&quot;
println(str1 == str2) // ğŸ‘ˆ å†…å®¹ç›¸ç­‰ï¼Œè¾“å‡ºï¼štrue

val str1= &quot;å­—ç¬¦ä¸²&quot;
val str2 = str1
val str3 = str1
print(str2 === str3) // ğŸ‘ˆ å¼•ç”¨åœ°å€ç›¸ç­‰ï¼Œè¾“å‡ºï¼štrue
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Kotlinå­¦ä¹ ç¬”è®°å››-æ³›å‹]]></title>
        <id>https://rhizophora.github.io/post/kotlin-xue-xi-bi-ji-si-fan-xing/</id>
        <link href="https://rhizophora.github.io/post/kotlin-xue-xi-bi-ji-si-fan-xing/">
        </link>
        <updated>2020-04-30T11:47:59.000Z</updated>
        <content type="html"><![CDATA[<p>kotlinçš„æ³›å‹ï¼Œé€šå¸¸ç¦»ä¸å¼€ä¸¤ä¸ªå…³é”®å­— in å’Œ outã€‚</p>
<p>inå°±ä»£è¡¨è¾“å…¥ï¼Œå¯ä»¥æ”¹æ•°æ®ï¼Œä½†æ˜¯ä¸èƒ½æŸ¥æ•°æ®ï¼Œå¯¹åº”çš„å°±æ˜¯é€†å˜</p>
<p>outå°±ä»£è¡¨è¾“å‡ºï¼Œå¯ä»¥æŸ¥æ•°æ®ï¼Œä½†æ˜¯ä¸èƒ½æ”¹æ•°æ®ï¼Œå¯¹åº”çš„å°±æ˜¯åå˜</p>
<p>æ³›å‹çš„æ„æ€å°±æ˜¯æŠŠå…·ä½“çš„ç±»å‹æ³›åŒ–ï¼Œç¼–ç çš„æ—¶å€™ç”¨ç¬¦å·æ¥æŒ‡ä»£ç±»å‹ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œå†ç¡®å®šå®ƒçš„ç±»å‹ã€‚</p>
<pre><code class="language-java">TextView textView = new Button(context);
// ğŸ‘† è¿™æ˜¯å¤šæ€

List&lt;Button&gt; buttons = new ArrayList&lt;Button&gt;();
List&lt;TextView&gt; textViews = buttons;
// ğŸ‘† å¤šæ€ç”¨åœ¨è¿™é‡Œä¼šæŠ¥é”™ incompatible types: List&lt;Button&gt; cannot be converted to List&lt;TextView&gt;
</code></pre>
<p>Buttonç»§æ‰¿äºTextViewçš„ï¼Œæ ¹æ®javaå¤šæ€ï¼Œèµ‹å€¼æ˜¯æ­£ç¡®çš„ã€‚</p>
<p>ä½†æ˜¯åˆ°äº†ListView<TextView>è¿™é‡Œå°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºjavaæ³›å‹æœ¬èº«å…·æœ‰ä¸å¯å˜æ€§ï¼Œjavaé‡Œé¢è®¤ä¸ºListView<Textview>å’ŒList<Button>ç±»å‹å¹¶ä¸ä¸€è‡´ã€‚ä¹Ÿå°±æ˜¯ å­ç±»çš„æ³›å‹List<Button>ä¸å±äºæ³›å‹List<TextView>çš„å­ç±»ã€‚</p>
<p>Java çš„æ³›å‹ç±»å‹ä¼šåœ¨ç¼–è¯‘æ—¶å‘ç”Ÿ<strong>ç±»å‹æ“¦é™¤</strong>ï¼Œä¸ºäº†ä¿è¯ç±»å‹å®‰å…¨ï¼Œä¸å…è®¸è¿™æ ·èµ‹å€¼ã€‚</p>
<p>ä½†æ˜¯åœ¨ Java é‡Œç”¨æ•°ç»„åšç±»ä¼¼çš„äº‹æƒ…ï¼Œæ˜¯ä¸ä¼šæŠ¥é”™çš„ï¼Œè¿™æ˜¯å› ä¸ºæ•°ç»„å¹¶æ²¡æœ‰åœ¨ç¼–è¯‘æ—¶æ“¦é™¤ç±»å‹ï¼š</p>
<pre><code class="language-java">TextView[] textViews = new TextView[10];
</code></pre>
<p>ä¸ºäº†è§£å†³ç±»ä¼¼çš„éœ€æ±‚ï¼Œå®ç°ä¸Šé¢çš„èµ‹å€¼ï¼Œjavaæä¾›äº†æ³›å‹é€šé…ç¬¦  ? extendså’Œ ? super</p>
<p>javaé‡Œæ˜¯è¿™æ ·è§£å†³çš„</p>
<pre><code class="language-java">List&lt;Button&gt; buttons = new ArrayList&lt;Button&gt;();
      ğŸ‘‡
List&lt;? extends TextView&gt; textViews = buttons;
</code></pre>
<p>?extends å«åšä¸Šç•Œé€šé…ç¬¦ï¼Œå¯ä»¥ä½¿javaæ³›å‹å…·æœ‰åå˜æ€§ï¼Œåå˜å°±æ˜¯å…è®¸ä¸Šé¢çš„èµ‹å€¼æ—¶åˆæ³•çš„ã€‚</p>
<p>åœ¨ç»§æ‰¿å…³ç³»æ ‘ä¸­ï¼Œå­ç±»ç»§æ‰¿è‡ªçˆ¶ç±»ï¼Œå¯ä»¥è®¤ä¸ºçˆ¶ç±»åœ¨ä¸Šï¼Œå­ç±»åœ¨ä¸‹ã€‚<code>extends</code> é™åˆ¶äº†æ³›å‹ç±»å‹çš„çˆ¶ç±»å‹ï¼Œæ‰€ä»¥å«ä¸Šç•Œã€‚</p>
<p>å…¶ä¸­ï¼Ÿæ˜¯ä¸ªé€šé…ç¬¦ï¼Œè¡¨ç¤ºè¿™ä¸ªListçš„æ³›å‹ç±»å‹æ˜¯ä¸ªæœªçŸ¥ç±»å‹</p>
<p>extendsé™åˆ¶äº†è¿™ä¸ªæœªçŸ¥ç±»å‹çš„ä¸Šç•Œï¼Œä¹Ÿå°±æ˜¯æ³›å‹ç±»å‹å¿…é¡»æ»¡è¶³è¿™ä¸ªextendsçš„é™åˆ¶æ¡ä»¶ï¼Œè¿™é‡Œå’Œå®šä¹‰classçš„extendså…³é”®å­—æœ‰ç‚¹ä¸ä¸€æ ·ï¼š</p>
<p>å®ƒçš„èŒƒå›´ä¸ä»…æ˜¯æ‰€æœ‰ç›´æ¥å’Œé—´æ¥å­ç±»ï¼Œè¿˜åŒ…æ‹¬ä¸Šç•Œå®šä¹‰çš„çˆ¶ç±»æœ¬èº«ï¼Œä¹Ÿå°±æ˜¯TextViewã€‚</p>
<p>å®ƒè¿˜æœ‰implementsçš„æ„æ€ï¼Œå³è¿™é‡Œçš„ä¸Šç•Œä¹Ÿå¯ä»¥æ˜¯interfaceã€‚</p>
<p>æ‰€ä»¥ä¸‹é¢è¿™å‡ ç§æƒ…å†µéƒ½æ˜¯å¯ä»¥çš„ï¼š</p>
<pre><code class="language-java">List&lt;? extends TextView&gt; textViews = new ArrayList&lt;TextView&gt;(); // ğŸ‘ˆ æœ¬èº«
List&lt;? extends TextView&gt; textViews = new ArrayList&lt;Button&gt;(); // ğŸ‘ˆ ç›´æ¥å­ç±»
List&lt;? extends TextView&gt; textViews = new ArrayList&lt;RadioButton&gt;(); // ğŸ‘ˆ é—´æ¥å­ç±»
</code></pre>
<p>ä¸€èˆ¬é›†åˆç±»éƒ½åŒ…æ‹¬äº†get å’Œaddä¸¤ç§æ“ä½œï¼Œæ¯”å¦‚javaä¸­çš„list,</p>
<pre><code class="language-java">List&lt;? extends TextView&gt; textViews = new ArrayList&lt;Button&gt;();
TextView textView = textViews.get(0); // ğŸ‘ˆ get å¯ä»¥
textViews.add(textView);
//             ğŸ‘† add ä¼šæŠ¥é”™ï¼Œno suitable method found for add(TextView)
</code></pre>
<p>å› ä¸º?extends TextView è¿™ä¸ªæ³›å‹ç±»å‹æ˜¯æœªçŸ¥çš„ï¼Œä½†æ˜¯è‚¯å®šæ˜¯textviewçš„å­ç±»ï¼Œgetå‡ºæ¥èƒ½å¤Ÿèµ‹å€¼ç»™textviewæ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯addå°±ä¸èƒ½ç¡®å®šæ·»åŠ çš„æ˜¯ä»€ä¹ˆç±»å‹äº†ã€‚</p>
<p>List&lt;?&gt;å…¶å®å°±æ˜¯List&lt;? extends Object&gt; çš„ç¼©å†™ã€‚</p>
<p>æ‰€ä»¥ç”¨äº† ï¼Ÿextends  é€šé…ç¬¦çš„Listï¼Œåªèƒ½å¤Ÿå‘å¤–æä¾›æ•°æ®è¢«æ¶ˆè´¹ã€‚</p>
<p>? superå«ä¸‹ç•Œé€šé…ç¬¦ï¼Œå¯ä»¥ä½¿javaæ³›å‹å…·æœ‰é€†å˜æ€§ã€‚</p>
<p>è¿™ä¸ªsuperé™åˆ¶äº†é€šé…ç¬¦çš„å­ç±»å‹ï¼Œæ‰€ä»¥å«ä¸‹ç•Œã€‚</p>
<p>é€šé…ç¬¦ï¼Ÿè¡¨ç¤º Listçš„æ³›å‹ç±»å‹æ˜¯ä¸€ä¸ªæœªçŸ¥ç±»å‹ã€‚</p>
<p>superé™åˆ¶äº†è¿™ä¸ªæœªçŸ¥ç±»å‹çš„ä¸‹ç•Œï¼Œä¹Ÿå°±æ˜¯æ³›å‹ç±»å‹å¿…é¡»æ»¡è¶³è¿™ä¸ªsuperçš„é™åˆ¶æ¡ä»¶ã€‚</p>
<p>super ä¹Ÿä¸€æ ·åŒ…æ‹¬ä¸‹ç•Œæœ¬èº«ï¼ŒåŒæ ·æ”¯æŒinterface</p>
<p>æ‰€ä»¥ä¸‹é¢å†™æ³•éƒ½å¯ä»¥ï¼š</p>
<pre><code class="language-java">List&lt;? super Button&gt; buttons = new ArrayList&lt;Button&gt;(); // ğŸ‘ˆ æœ¬èº«
List&lt;? super Button&gt; buttons = new ArrayList&lt;TextView&gt;(); // ğŸ‘ˆ ç›´æ¥çˆ¶ç±»
List&lt;? super Button&gt; buttons = new ArrayList&lt;Object&gt;(); // ğŸ‘ˆ é—´æ¥çˆ¶ç±»
</code></pre>
<pre><code class="language-java">List&lt;? super Button&gt; buttons = new ArrayList&lt;TextView&gt;();
Object object = buttons.get(0); // ğŸ‘ˆ get å‡ºæ¥çš„æ˜¯ Object ç±»å‹
Button button = ...
buttons.add(button); // ğŸ‘ˆ add æ“ä½œæ˜¯å¯ä»¥çš„
</code></pre>
<p>javaæ³›å‹æœ¬èº«æ˜¯ä¸æ”¯æŒåå˜å’Œé€†å˜çš„ã€‚</p>
<p>å¯ä»¥é€šè¿‡æ³›å‹é€šé…ç¬¦ï¼Ÿextend æ¥æ”¯æŒåå˜ï¼Œä½†æ˜¯åªèƒ½è¯»å–ä¸èƒ½ä¿®æ”¹ï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½å¾€æ³›å‹é›†åˆé‡Œæ·»åŠ å…ƒç´ ï¼Œå¦‚æœæ˜¯åˆ é™¤æˆ–è€…æ¸…ç©ºæ˜¯å¯ä»¥çš„ã€‚</p>
<p>å¯ä»¥é€šè¿‡æ³›å‹é€šé…ç¬¦ï¼Ÿsuperæ¥æ”¯æŒé€†å˜ï¼Œä½†æ˜¯åªèƒ½ä¿®æ”¹ä¸èƒ½è¯»å–ï¼Œè¿™é‡Œçš„ä¸èƒ½è¯»å–å°±æ˜¯æŒ‡ä¸èƒ½æŒ‰ç…§æ³›å‹ç±»å‹è¯»å–ã€‚</p>
<p>å’Œjavaæ³›å‹ä¸€æ ·ï¼Œkotlinä¸­çš„æ³›å‹æœ¬èº«ä¹Ÿæ˜¯ä¸å¯å˜å¾—ã€‚</p>
<p>ä½¿ç”¨å…³é”®å­—outæ¥æ”¯æŒåå˜ï¼Œç­‰åŒäºjavaä¸­çš„ä¸Šç•Œé€šé…ç¬¦ ï¼Ÿextend</p>
<p>ä½¿ç”¨å…³é”®å­—in æ¥æ”¯æŒé€†å˜ï¼Œç­‰åŒäºjavaä¸­çš„ä¸‹ç•Œé€šé…ç¬¦ï¼Ÿsuper</p>
<p>æ¢äº†ä¸ªå†™æ³•ä½†æ˜¯ä½œç”¨æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚</p>
<pre><code class="language-kotlin">var textViews: List&lt;out TextView&gt;
var textViews: List&lt;in TextView&gt;
</code></pre>
<p>å£°æ˜å¤„çš„outå’Œin</p>
<p>å¯ä»¥åœ¨å£°æ˜ç±»çš„æ—¶å€™ï¼Œç»™æ³›å‹ç¬¦å·åŠ ä¸Šout,è¡¨æ˜æ³›å‹å‚æ•°Tåªä¼šç”¨æ¥è¾“å‡ºï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™å°±ä¸ç”¨é¢å¤–åŠ outäº†ï¼Œinä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ã€‚</p>
<pre><code class="language-kotlin">class Producer&lt;out T&gt; {
    fun produce(): T {
        ...
    }
}

val producer: Producer&lt;TextView&gt; = Producer&lt;Button&gt;() // ğŸ‘ˆ è¿™é‡Œä¸å†™ out ä¹Ÿä¸ä¼šæŠ¥é”™
val producer: Producer&lt;out TextView&gt; = Producer&lt;Button&gt;() // ğŸ‘ˆ out å¯ä»¥ä½†æ²¡å¿…è¦
</code></pre>
<p>javaä¸­å•ä¸ªï¼Ÿä¹Ÿèƒ½ä½œä¸ºæ³›å‹é€šé…ç¬¦ä½¿ç”¨ï¼Œç›¸å½“äºï¼Ÿextends Objectã€‚</p>
<p>kotlinä¸­æœ‰ç­‰æ•ˆå†™æ³• * ï¼Œç›¸å½“äº out Any</p>
<p>javaä¸­å£°æ˜ç±»æˆ–è€…æ¥å£æ—¶ï¼Œå¯ä»¥ä½¿ç”¨extendsæ¥è®¾ç½®è¾¹ç•Œï¼Œå°†æ³›å‹ç±»å‹å‚æ•°é™åˆ¶ä¸ºæŸä¸ªç±»å‹çš„å­é›†ã€‚</p>
<pre><code class="language-java">//                ğŸ‘‡  T çš„ç±»å‹å¿…é¡»æ˜¯ Animal çš„å­ç±»å‹
class Monster&lt;T extends Animal&gt;{
}
</code></pre>
<p>è¿™é‡Œå¹¶ä¹ˆæœ‰ï¼Ÿ</p>
<p>è€Œä¸”è¿™ä¸ªè¾¹ç•Œå¯ä»¥è®¾ç½®å¤šä¸ªï¼Œç”¨&amp;ç¬¦å·è¿æ¥ï¼š</p>
<pre><code class="language-java">//                            ğŸ‘‡  T çš„ç±»å‹å¿…é¡»åŒæ—¶æ˜¯ Animal å’Œ Food çš„å­ç±»å‹
class Monster&lt;T extends Animal &amp; Food&gt;{ 
}
</code></pre>
<p>kotliné‡Œåªæ˜¯æŠŠextendsæ¢æˆäº† ï¼š</p>
<pre><code class="language-kotlin">class Monster&lt;T : Animal&gt;
</code></pre>
<p>è®¾ç½®å¤šä¸ªè¾¹ç•Œï¼š</p>
<pre><code class="language-kotlin">class Monster&lt;T&gt; where T : Animal, T : Food
</code></pre>
<p>ç”±äºjavaä¸­çš„æ³›å‹å­˜åœ¨ç±»å‹æ“¦é™¤çš„æƒ…å†µï¼Œä»»ä½•åœ¨è¿è¡Œæ—¶éœ€è¦çŸ¥é“æ³›å‹ç¡®åˆ‡ç±»å‹ä¿¡æ¯çš„æ“ä½œéƒ½æ²¡ç”¨äº†ã€‚</p>
<pre><code class="language-java">&lt;T&gt; void printIfTypeMatch(Object item) {
    if (item instanceof T) { // ğŸ‘ˆ IDE ä¼šæç¤ºé”™è¯¯ï¼Œillegal generic type for instanceof
        System.out.println(item);
    }
}
</code></pre>
<p>kotlinä¹Ÿä¸€æ ·</p>
<pre><code class="language-kotlin">fun &lt;T&gt; printIfTypeMatch(item: Any) {
    if (item is T) { // ğŸ‘ˆ IDE ä¼šæç¤ºé”™è¯¯ï¼ŒCannot check for instance of erased type: T
        println(item)
    }
}
</code></pre>
<p>javaçš„è§£å†³åŠæ³•é€šå¸¸æ˜¯é¢å¤–ä¼ é€’ä¸€ä¸ªClass<T>ç±»å‹çš„å‚æ•°ï¼Œç„¶åé€šè¿‡isInstanceæ–¹æ³•æ¥æ£€æŸ¥ã€‚</p>
<pre><code class="language-java">&lt;T&gt; void check(Object item, Class&lt;T&gt; type) {
    if (type.isInstance(item)) {
               ğŸ‘†
        System.out.println(item);
    }
}
</code></pre>
<p>kotlinä¸­åŒæ ·å¯ä»¥è¿™ä¹ˆè§£å†³ï¼Œä¸è¿‡è¿˜æœ‰æ›´æ–¹ä¾¿çš„åšæ³•ï¼šä½¿ç”¨å…³é”®å­—reifieldé…åˆinlineæ¥è§£å†³ï¼š</p>
<pre><code class="language-kotlin">inline fun &lt;reified T&gt; printIfTypeMatch(item: Any) {
    if (item is T) { // ğŸ‘ˆ è¿™é‡Œå°±ä¸ä¼šåœ¨æç¤ºé”™è¯¯äº†
        println(item)
    }
}
</code></pre>
<p>å…³äºæ³›å‹ï¼Œkotlinå’Œjavaçš„ä¸¤ä¸ªä¸åŒï¼š</p>
<p>1.javaä¸­æ•°ç»„æ˜¯æ”¯æŒåå˜çš„ï¼Œè€Œkotlinä¸­çš„æ•°ç»„Arrayä¸æ”¯æŒåå˜ã€‚å› ä¸ºåœ¨kotlinä¸­æ•°ç»„æ˜¯ç”¨Arrayç±»æ¥è¡¨ç¤ºçš„ï¼Œè¿™ä¸ªArrayç±»ä½¿ç”¨æ³›å‹å°±å’Œé›†åˆç±»ä¸€æ ·ï¼Œæ‰€ä»¥ä¸æ”¯æŒåå˜ã€‚</p>
<p>2.javaä¸­çš„Listæ¥å£ä¸æ”¯æŒåå˜ï¼Œè€Œkotlinä¸­çš„listæ¥å£æ”¯æŒåå˜ã€‚javaçš„Listéœ€è¦ä½¿ç”¨æ³›å‹é€šé…ç¬¦æ¥è§£å†³ã€‚åœ¨kotliné‡Œï¼Œå®é™…ä¸ŠMutableListæ¥å£æ‰ç›¸å½“äºjavaçš„Listã€‚Kotlinä¸­çš„Listæ¥å£å®ç°äº†åªè¯»æ“ä½œï¼Œæ²¡æœ‰å†™æ“ä½œï¼Œæ‰€ä»¥ä¸ä¼šæœ‰ç±»å‹å®‰å…¨çš„é—®é¢˜ï¼Œè‡ªç„¶å¯ä»¥æ”¯æŒåå˜ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Kotlinå­¦ä¹ ç¬”è®°äºŒ-å…³äºç±»å’ŒJavaçš„ä¸åŒ]]></title>
        <id>https://rhizophora.github.io/post/kotlin-xue-xi-bi-ji-er-guan-yu-lei-he-java-de-bu-tong/</id>
        <link href="https://rhizophora.github.io/post/kotlin-xue-xi-bi-ji-er-guan-yu-lei-he-java-de-bu-tong/">
        </link>
        <updated>2020-04-29T08:32:38.000Z</updated>
        <content type="html"><![CDATA[<p>kotlinæ„é€ å™¨çš„å†™æ³•å’Œjavaä¸ä¸€æ ·ï¼š</p>
<p>java:</p>
<pre><code class="language-java">public class User {
    int id;
    String name;
      ğŸ‘‡   ğŸ‘‡
    public User(int id, String name) {
        this.id = id;
        this.name = name;
    }
}
</code></pre>
<p>kotlin:</p>
<pre><code class="language-kotlin">class User {
    val id: Int
    val name: String
         ğŸ‘‡
    constructor(id: Int, name: String) {
 //ğŸ‘† æ²¡æœ‰ public
        this.id = id
        this.name = name
    }
}
</code></pre>
<p>ä¸¤ç‚¹ä¸åŒï¼šjavaä¸­æ„é€ å™¨å’Œç±»åŒåï¼ŒKotlinä¸­åˆ™ä½¿ç”¨constructorè¡¨ç¤ºï¼›Kotlinä¸­æ„é€ å™¨æ²¡æœ‰publicä¿®é¥°ï¼Œå› ä¸ºé»˜è®¤æ˜¯publicã€‚</p>
<p>kotlinåˆå§‹åŒ–ä»£ç å—çš„å†™æ³•å’Œjavaä¸ä¸€æ ·ï¼š</p>
<p>java:</p>
<pre><code class="language-java">public class User {
   ğŸ‘‡
    {
        // åˆå§‹åŒ–ä»£ç å—ï¼Œå…ˆäºä¸‹é¢çš„æ„é€ å™¨æ‰§è¡Œ
    }
    public User() {
    }
}
</code></pre>
<p>kotlin:</p>
<pre><code class="language-kotlin">class User {
    ğŸ‘‡
    init {
        // åˆå§‹åŒ–ä»£ç å—ï¼Œå…ˆäºä¸‹é¢çš„æ„é€ å™¨æ‰§è¡Œ
    }
    constructor() {
    }
}
</code></pre>
<p>å…³äºfinal:</p>
<p>kotlinä¸­valå’Œjavaçš„finalç±»ä¼¼ï¼Œè¡¨ç¤ºåªè¯»å˜é‡ï¼Œä¸èƒ½ä¿®æ”¹ã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼Œkotlinå‡½æ•°å‚æ•°é»˜è®¤æ˜¯valç±»å‹ï¼Œæ‰€ä»¥å‚æ•°å‰ä¸éœ€è¦å†™valå…³é”®å­—ï¼Œè¿™æ ·è®¾è®¡æ˜¯ä¸ºäº†ä¿è¯å‚æ•°ä¸ä¼šè¢«ä¿®æ”¹ï¼›è€Œjavaçš„å‚æ•°å¯ä¿®æ”¹ï¼Œä¼šå¢åŠ å‡ºé”™çš„æ¦‚ç‡ã€‚</p>
<p>è™½ç„¶valä¿®é¥°çš„å˜é‡ä¸èƒ½äºŒæ¬¡èµ‹å€¼ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è‡ªå®šä¹‰å˜é‡çš„getterå‡½æ•°ï¼Œè®©å˜é‡æ¯æ¬¡è¢«è®¿é—®æ—¶ï¼Œè¿”å›åŠ¨æ€è·å–çš„å€¼ã€‚</p>
<p>eg:</p>
<pre><code class="language-kotlin">val size: Int
    get() { // ğŸ‘ˆ æ¯æ¬¡è·å– size å€¼æ—¶éƒ½ä¼šæ‰§è¡Œ items.size
        return items.size
    }
</code></pre>
<p>é™æ€å¸¸é‡å’Œé™æ€æ–¹æ³•ï¼š</p>
<p>javaé‡Œå†™å¸¸é‡éƒ½æ˜¯ç”¨static+finalã€‚ä½†æ˜¯åœ¨kotliné‡Œï¼Œé™æ€å˜é‡å’Œé™æ€æ–¹æ³•è¿™ä¸¤ä¸ªæ¦‚å¿µè¢«å»é™¤äº†ã€‚</p>
<p>å¦‚æœæƒ³åœ¨kotliné‡Œåƒjavaä¸€æ ·ç›´æ¥é€šè¿‡ç±»å¼•ç”¨ï¼Œå°±è¦ç”¨åˆ°companion objectã€‚</p>
<pre><code class="language-kotlin">class Sample {
    ...
       ğŸ‘‡
    companion object {
        val anotherString = &quot;Another String&quot;
    }
}
</code></pre>
<p>Sample.anotherString.length</p>
<p>kotliné‡Œçš„objectï¼Œé¦–å­—æ¯å°å†™ã€‚javaä¸­çš„Objectåœ¨kotliné‡Œä¸ç”¨äº†ã€‚javaä¸­çš„Objectåœ¨Kotliné‡Œå˜æˆäº†Any,å’ŒObjectä½œç”¨ä¸€æ ·ï¼šæ‰€æœ‰ç±»çš„åŸºç±»ã€‚</p>
<p>ä½†æ˜¯ kotlinä¸­çš„objectä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯å…³é”®å­—ï¼Œå¯ä»¥ç†è§£ä¸ºå•ä¾‹ã€‚</p>
<pre><code class="language-kotlin">object Sample {
    val name = &quot;A name&quot;
}
</code></pre>
<p>Sample.name</p>
<p>objectçš„æ„æ€å¾ˆç®€å•ï¼šåˆ›å»ºä¸€ä¸ªç±»ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªè¿™ä¸ªç±»çš„å¯¹è±¡ã€‚åœ¨ä»£ç ä¸­å¦‚æœè¦ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ï¼Œç›´æ¥ä½¿ç”¨å®ƒçš„ç±»åå°±å¯ä»¥è®¿é—®ã€‚</p>
<p>æ‰€ä»¥åœ¨kotlinä¸­åˆ›å»ºå•ä¾‹å¾ˆç®€å•ï¼Œclassæ¢æˆobjectå°±è¡Œäº†ã€‚</p>
<p>è¿™ç§é€šè¿‡objectå®ç°çš„å•ä¾‹æ˜¯ä¸€ä¸ªé¥¿æ±‰å¼çš„å•ä¾‹ï¼Œå¹¶ä¸”å®ç°äº†çº¿ç¨‹å®‰å…¨ã€‚</p>
<p>objectä¹Ÿå¯ä»¥ç»§æ‰¿åˆ«çš„ç±»ï¼Œå®ç°æ¥å£ã€‚</p>
<p>ä¸ºä»€ä¹ˆ object å¯ä»¥å®ç°æ¥å£å‘¢ï¼Ÿç®€å•æ¥è®² object å…¶å®æ˜¯æŠŠä¸¤æ­¥åˆå¹¶æˆäº†ä¸€æ­¥ï¼Œæ—¢æœ‰ class å…³é”®å­—çš„åŠŸèƒ½ï¼Œåˆå®ç°äº†å•ä¾‹ï¼Œè¿™æ ·å°±å®¹æ˜“ç†è§£äº†ã€‚</p>
<p>åŒ¿åç±»ï¼š</p>
<p>java:</p>
<pre><code class="language-java">ViewPager.SimpleOnPageChangeListener listener = new ViewPager.SimpleOnPageChangeListener() {
    @Override // ğŸ‘ˆ
    public void onPageSelected(int position) {
        // override
    }
};
</code></pre>
<p>kotlin:</p>
<pre><code class="language-kotlin">val listener = object: ViewPager.SimpleOnPageChangeListener() {
    override fun onPageSelected(position: Int) {
        // override
    }
}  
</code></pre>
<p>å’Œjavaåˆ›å»ºåŒ¿åç±»çš„æ–¹å¼å¾ˆç›¸ä¼¼ï¼Œåªä¸è¿‡æŠŠnewæ¢æˆäº†object:</p>
<p>object:ä¿®é¥°çš„éƒ½æ˜¯æ¥å£æˆ–è€…æŠ½è±¡ç±»ã€‚</p>
<p>companion object :</p>
<p>objectä¿®é¥°çš„å¯¹è±¡ä¸­çš„å˜é‡å’Œå‡½æ•°éƒ½æ˜¯é™æ€çš„ã€‚æ‰€ä»¥å¦‚æœæƒ³è®©ç±»ä¸­çš„ä¸€éƒ¨åˆ†å‡½æ•°å’Œå˜é‡æˆä¸ºé™æ€å°±è¦ç”¨åˆ°companion object(ä¼´ç”Ÿå¯¹è±¡)ã€‚</p>
<pre><code class="language-kotlin">class A {
          ğŸ‘‡
    object B {
        var c: Int = 0
    }
}
</code></pre>
<p>A.B.c</p>
<p>ä¹Ÿå¯ä»¥è¿™æ ·å†™</p>
<pre><code class="language-kotlin">class A {
       ğŸ‘‡
    companion object B {
        var c: Int = 0
    }
}
</code></pre>
<p>companionå¯ä»¥ç†è§£ä¸ºä¼´éšã€ä¼´ç”Ÿï¼Œè¡¨ç¤ºä¿®é¥°çš„å¯¹è±¡å’Œå¤–éƒ¨ç±»ç»‘å®šã€‚</p>
<p>ä½†æ˜¯æœ‰ä¸€ä¸ªå°é™åˆ¶ï¼šä¸€ä¸ªç±»ä¸­æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªä¼´ç”Ÿå¯¹è±¡ï¼Œä½†å¯ä»¥æœ‰å¤šä¸ªåµŒå¥—å¯¹è±¡ã€‚</p>
<p>ä¹Ÿå› ä¸ºè¿™ä¸ªé™åˆ¶ï¼Œæ‰€ä»¥è°ƒç”¨çš„æ—¶å€™å¯ä»¥çœæ‰å¯¹è±¡åï¼šA.c</p>
<p>æ‰€ä»¥æœ‰companionä¿®é¥°æ—¶ï¼Œå¯¹è±¡çš„åå­—ä¹Ÿå¯çœç•¥æ‰ï¼š</p>
<pre><code class="language-kotlin">class A {
                // ğŸ‘‡ B æ²¡äº†
    companion object {
        var c: Int = 0
    }
}
</code></pre>
<p>é™æ€åˆå§‹åŒ–ï¼š</p>
<p>javaä¸­çš„é™æ€å˜é‡å’Œæ–¹æ³•,kotlinéƒ½æ”¾åœ¨äº†companion objectä¸­ã€‚å› æ­¤javaä¸­çš„é™æ€åˆå§‹åŒ–åœ¨kotlinä¸­è‡ªç„¶ä¹Ÿæ˜¯æ”¾åœ¨companion objectä¸­ã€‚</p>
<pre><code class="language-kotlin">class Sample {
       ğŸ‘‡
    companion object {
         ğŸ‘‡
        init {
            ...
        }
    }
}
</code></pre>
<p>é¡¶å±‚å£°æ˜ï¼ˆtop-level property/functionï¼‰:</p>
<p>å°±æ˜¯æŠŠå±æ€§å’Œå‡½æ•°çš„å£°æ˜ä¸å†™åœ¨classé‡Œé¢ï¼Œè¿™ä¸ªåœ¨kotliné‡Œæ˜¯å…è®¸çš„ï¼š</p>
<pre><code class="language-kotlin">package com.hencoder.plus

// ğŸ‘‡ å±äº packageï¼Œä¸åœ¨ class/object å†…
fun topLevelFuncion() {
}
</code></pre>
<p>topLevelFunction()</p>
<p>è¿™æ ·å†™çš„å±æ€§å’Œå‡½æ•°ï¼Œä¸å±äºä»»ä½•class,è€Œæ˜¯ç›´æ¥å±äºpackageï¼Œå®ƒå’Œé™æ€å˜é‡ã€å‡½æ•°ä¸€æ ·æ˜¯å…¨å±€çš„ï¼Œç›´æ¥ç”¨ï¼Œéƒ½ä¸éœ€è¦å†™ç±»åã€‚</p>
<p>æ‰€ä»¥å¯¹äºobjectã€companion object ã€top-levelï¼š</p>
<p>å¦‚æœæƒ³å†™å·¥å…·ç±»çš„åŠŸèƒ½ï¼Œç›´æ¥åˆ›å»ºæ–‡ä»¶ï¼Œå†™top-levelé¡¶å±‚å‡½æ•°ã€‚</p>
<p>å¦‚æœè¦ç»§æ‰¿åˆ«çš„ç±»æˆ–è€…å®ç°æ¥å£ï¼Œå°±ç”¨objectæˆ–è€…companion objectã€‚</p>
<p>å¸¸é‡ï¼š</p>
<p>java:</p>
<pre><code class="language-java">public class Sample {
            ğŸ‘‡     ğŸ‘‡
    public static final int CONST_NUMBER = 1;
}
</code></pre>
<p>kotlin:</p>
<pre><code class="language-kotlin">class Sample {
    companion object {
         ğŸ‘‡                  // ğŸ‘‡
        const val CONST_NUMBER = 1
    }
}

const val CONST_SECOND_NUMBER = 2
</code></pre>
<p>kotlinç”¨const ä¿®é¥°å¸¸é‡ï¼›kotlinçš„å¸¸é‡å¿…é¡»å£°æ˜åœ¨å¯¹è±¡ï¼ˆåŒ…æ‹¬ä¼´ç”Ÿå¯¹è±¡ï¼‰æˆ–è€…é¡¶å±‚ä¸­ï¼Œå› ä¸ºå¸¸é‡æ˜¯é™æ€çš„ã€‚</p>
<p>è€Œä¸”kotlinä¸­åªæœ‰åŸºæœ¬ç±»å‹å’ŒStringç±»å‹å¯ä»¥å£°æ˜æˆå¸¸é‡ï¼Œè€Œjavaé‡Œ static  finalè¿˜å¯ä»¥ä¿®é¥°å¯¹è±¡ã€‚ä½†æ˜¯javaä¸­å¯ä»¥æ˜¯ä¼ªå¸¸é‡ã€‚</p>
<pre><code class="language-java">public class User {
    int id; // ğŸ‘ˆ å¯ä¿®æ”¹
    String name; // ğŸ‘ˆ å¯ä¿®æ”¹
    public User(int id, String name) {
        this.id = id;
        this.name = name;
    }
}
</code></pre>
<pre><code class="language-java">static final User user = new User(123, &quot;Zhangsan&quot;);
</code></pre>
<pre><code class="language-java">user.name = &quot;Lisi&quot;;
</code></pre>
<p>å¯ä»¥é€šè¿‡ä¸Šé¢çš„æ–¹å¼æ”¹å˜å®ƒå†…éƒ¨çš„å€¼ã€‚è€Œkotlinçš„å¸¸é‡å› ä¸ºé™åˆ¶ç±»å‹å¿…é¡»æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ‰€ä»¥ä¸å­˜åœ¨è¿™ç§é—®é¢˜ï¼Œæ›´ç¬¦åˆå¸¸é‡çš„å®šä¹‰ã€‚</p>
<p>æ•°ç»„</p>
<p>å£°æ˜ä¸€ä¸ªstringæ•°ç»„ï¼š</p>
<p>java:</p>
<pre><code class="language-java">String[] strs = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};
</code></pre>
<p>kotlin:</p>
<pre><code class="language-kotlin">val strs: Array&lt;String&gt; = arrayOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)
</code></pre>
<p>å–å€¼å’Œä¿®æ”¹ï¼š</p>
<pre><code class="language-kotlin">println(strs[0])
   ğŸ‘‡      ğŸ‘†
strs[1] = &quot;B&quot;
</code></pre>
<p>å’Œjavaæ–¹å¼ä¸€æ ·ã€‚</p>
<p>kotlinä¸­æ•°ç»„ä¸æ”¯æŒåå˜ï¼Œå­ç±»æ•°ç»„å¯¹è±¡ä¸èƒ½èµ‹å€¼ç»™çˆ¶ç±»çš„æ•°ç»„å˜é‡ã€‚ä½†æ˜¯javaæ•°ç»„æ”¯æŒåå˜ã€‚</p>
<p>é›†åˆ</p>
<p>Kotlinå’ŒJavaä¸€æ ·æœ‰ä¸‰ç§é›†åˆç±»å‹ï¼šListã€Setå’ŒMapï¼Œ</p>
<p>java:</p>
<pre><code class="language-java">List&lt;String&gt; strList = new ArrayList&lt;&gt;();
strList.add(&quot;a&quot;);
strList.add(&quot;b&quot;);
strList.add(&quot;c&quot;); // ğŸ‘ˆ æ·»åŠ å…ƒç´ ç¹ç
</code></pre>
<p>kotlin:</p>
<pre><code class="language-kotlin">val strList = listOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)
</code></pre>
<p>kotlinåˆ›å»ºlistï¼Œç±»ä¼¼åˆ›å»ºæ•°ç»„çš„ä»£ç ã€‚kotliné‡Œçš„listæ”¯æŒåå˜ã€‚å¯ä»¥æŠŠå­ç±»çš„listèµ‹å€¼ç»™çˆ¶ç±»listå˜é‡ã€‚ä½†æ˜¯java listä¸æ”¯æŒåå˜ã€‚</p>
<p>å’ŒListç±»ä¼¼ï¼ŒSetåŒæ ·å…·æœ‰åå˜ç‰¹æ€§ã€‚</p>
<p>javaåˆ›å»ºmap:</p>
<pre><code class="language-java">Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();
map.put(&quot;key1&quot;, 1);
map.put(&quot;key2&quot;, 2);
map.put(&quot;key3&quot;, 3);
map.put(&quot;key4&quot;, 3);
</code></pre>
<p>kotlinåˆ›å»ºmap:</p>
<pre><code class="language-kotlin">val map = mapOf(&quot;key1&quot; to 1, &quot;key2&quot; to 2, &quot;key3&quot; to 3, &quot;key4&quot; to 3)
</code></pre>
<p>mapOfçš„æ¯ä¸€ä¸ªå‚æ•°è¡¨ç¤ºä¸€ä¸ªé”®å€¼å¯¹ï¼Œtoè¡¨ç¤ºå°†é”®å’Œå€¼å…³è”ï¼Œè¿™ä¸ªå«ä¸­ç¼€è¡¨è¾¾å¼ã€‚</p>
<p>kotlinä¸­çš„mapé™¤äº†å’Œjavaä¸€æ ·å¯ä»¥ä½¿ç”¨get()æ ¹æ®é”®è·å–å¯¹åº”çš„å€¼ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·çš„æ–¹å¼è·å–ï¼š</p>
<pre><code class="language-kotlin">val value1 = map.get(&quot;key1&quot;)
               ğŸ‘‡
val value2 = map[&quot;key2&quot;]
</code></pre>
<p>ç±»ä¼¼çš„ï¼Œkotlinä¸­ä¹Ÿå¯ä»¥ç”¨æ–¹æ‹¬å·çš„æ–¹å¼æ”¹å˜mapä¸­çš„å€¼</p>
<pre><code class="language-kotlin">val map = mutableMapOf(&quot;key1&quot; to 1, &quot;key2&quot; to 2)
    ğŸ‘‡
map.put(&quot;key1&quot;, 2)
   ğŸ‘‡
map[&quot;key1&quot;] = 2  
</code></pre>
<p>å¯å˜é›†åˆ/ä¸å¯å˜é›†åˆ</p>
<p>mapOf()åˆ›å»ºçš„mapä¸å¯ä»¥ä¿®æ”¹å€¼ï¼ŒmutableMapOf()åˆ›å»ºçš„mapæ‰å¯ä»¥ä¿®æ”¹ã€‚</p>
<p>Kotlinä¸­çš„é›†åˆåˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šåªè¯»å’Œå¯å˜çš„ã€‚åªè¯»æœ‰ä¸¤å±‚æ„æ€ï¼š</p>
<p>é›†åˆçš„sizeä¸å¯å˜ï¼›é›†åˆä¸­çš„å…ƒç´ å€¼ä¸å¯å˜ã€‚</p>
<p>æœ‰mutableå‰ç¼€çš„å‡½æ•°åˆ›å»ºçš„æ˜¯å¯å˜çš„é›†åˆï¼Œæ²¡æœ‰å°±æ˜¯ä¸å¯å˜çš„é›†åˆã€‚ä¸è¿‡å¯ä»¥é€šè¿‡toMutable*()ç³»åˆ—å‡½æ•°è½¬æ¢æˆå¯å˜çš„å‡½æ•°ï¼Œä¸è¿‡è¯¥æ–¹æ³•è¿”å›çš„æ˜¯æ–°é›†åˆï¼ŒåŸé›†åˆè¿˜æ˜¯ä¸å¯å˜çš„ã€‚</p>
<p>Sequence:</p>
<p>kotlinçš„å®¹å™¨ç±»å‹sequence,å’Œiterableä¸€æ ·ã€‚</p>
<pre><code class="language-kotlin">sequenceOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)
</code></pre>
<p>ä½¿ç”¨iterableåˆ›å»º:</p>
<pre><code class="language-kotlin">val list = listOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)
list.asSequence()
</code></pre>
<p>å¯è§æ€§ä¿®é¥°ç¬¦</p>
<p>kotlinæœ‰å››ç§å¯è§æ€§ä¿®é¥°ç¬¦ï¼š</p>
<p>public:å…¬å¼€ï¼Œå¯è§æ€§æœ€å¤§ï¼Œå“ªé‡Œéƒ½å¯ä»¥å¼•ç”¨</p>
<p>private:ç§æœ‰ï¼Œå¯è§æ€§æœ€å°ï¼Œæ ¹æ®å£°æ˜ä½ç½®ä¸åŒå¯åˆ†ä¸ºç±»ä¸­å¯è§å’Œæ–‡ä»¶ä¸­å¯è§ã€‚</p>
<p>protected:ä¿æŠ¤ï¼Œç›¸å½“äºprivate+å­ç±»å¯è§</p>
<p>internal:å†…éƒ¨ï¼Œä»…å¯¹moduleå†…å¯è§ã€‚</p>
<p>ç›¸æ¯”javaå°‘äº†ä¸€ä¸ªdefaultï¼ˆåŒ…å†…å¯è§ï¼‰ä¿®é¥°ç¬¦ï¼Œå¤šäº†ä¸€ä¸ªinternal(moduleå†…å¯è§)ä¿®é¥°ç¬¦ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Kotlinå­¦ä¹ ç¬”è®°ä¸€-åŸºç¡€å†™æ³•å’ŒJavaçš„åŒºåˆ«]]></title>
        <id>https://rhizophora.github.io/post/kotlin-xue-xi-bi-ji-1-ji-chu-xie-fa-he-java-de-qu-bie/</id>
        <link href="https://rhizophora.github.io/post/kotlin-xue-xi-bi-ji-1-ji-chu-xie-fa-he-java-de-qu-bie/">
        </link>
        <updated>2020-04-28T08:17:14.000Z</updated>
        <content type="html"><![CDATA[<p>kotlinç»“å°¾ä¸éœ€è¦åˆ†å·</p>
<p>kotlinå£°æ˜å˜é‡æ˜¯éœ€è¦åˆå§‹åŒ–ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œé™¤éå£°æ˜ç§°æŠ½è±¡çš„ï¼ˆkotliné‡Œå˜é‡å¯ä»¥å£°æ˜æˆæŠ½è±¡çš„ï¼‰ã€‚å› ä¸ºkotlinçš„å˜é‡æ˜¯æ²¡æœ‰é»˜è®¤å€¼çš„ã€‚</p>
<p>å› ä¸ºkotlinæœ‰ç©ºå®‰å…¨è®¾è®¡ï¼Œæ‰€ä»¥ä¸èƒ½èµ‹å€¼ä¸ºnullã€‚å¯¹åº”javaä¸­çš„æ³¨è§£@NonNullï¼Œä¸è¿‡javaé‡Œæ˜¯æç¤ºè­¦å‘Šï¼Œkotliné‡Œä¼šç›´æ¥æŠ¥é”™ï¼Œæ‹’ç»ç¼–è¯‘ã€‚kotliné‡Œæ‰€æœ‰çš„å˜é‡é»˜è®¤ä¸å…è®¸ä¸ºç©ºã€‚</p>
<p>å¦‚æœè¦è§£é™¤éç©ºé™åˆ¶ï¼Œå°±åœ¨ç±»å‹å³è¾¹åŠ ä¸ªï¼Ÿï¼Œä»£è¡¨è¿™ä¸ªå€¼å¯èƒ½ä¸ºç©ºã€‚var i:String?=null</p>
<p>åŠ ï¼Ÿçš„å†™æ³•ï¼Œåœ¨kotliné‡Œç§°ä¸ºå¯ç©ºç±»å‹ã€‚ä¸è¿‡å¯¹äºå¯ç©ºå¼•ç”¨çš„è°ƒç”¨ä¼šå¯¼è‡´ç©ºæŒ‡é’ˆçš„å¼‚å¸¸ï¼Œç¼–è¯‘å°±ä¼šæŠ¥é”™ï¼Œå³ä½¿åŠ äº† i!=null çš„åˆ¤æ–­ã€‚è¿™ä¸ªæŠ¥é”™çš„æ„æ€å°±æ˜¯ä½ å³ä½¿æ£€æŸ¥äº†éç©ºä¹Ÿä¸èƒ½ä¿è¯ä¸‹é¢è°ƒç”¨çš„æ—¶å€™è¿˜æ˜¯éç©ºï¼Œæœ‰å¯èƒ½å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œå…¶ä»–çº¿ç¨‹æŠŠå®ƒæ”¹æˆç©ºçš„ã€‚</p>
<p>æ‰€ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å°±æ˜¯ . æ”¹ä¸º ?.</p>
<p>i?.length</p>
<p>è¿™æ ·å†™ä¼šå¯¹å˜é‡åšä¸€æ¬¡éç©ºç¡®è®¤å†è°ƒç”¨æ–¹æ³•ï¼Œåšåˆ°çº¿ç¨‹å®‰å…¨ã€‚è¿˜æœ‰ç§æ˜¯ !!.</p>
<p>è¿™æ ·å†™å°±ä»£è¡¨å˜é‡ä¸€å®šæ˜¯ç©ºçš„ï¼Œä¸ç”¨ç¼–è¯‘å™¨æ£€æŸ¥ï¼Œåæœè‡ªå·±æ‰¿æ‹…ã€‚</p>
<p>å…³äºç©ºå®‰å…¨ï¼Œæ‰€è°“å¯ç©ºä¸å¯ç©ºï¼Œå…³æ³¨çš„éƒ½æ˜¯ä½¿ç”¨çš„æ—¶å€™ï¼Œå°±æ˜¯è¿™ä¸ªå˜é‡åœ¨ä½¿ç”¨çš„æ—¶å€™æ˜¯å¦å¯èƒ½ä¸ºç©º</p>
<p>kotlinå˜é‡é»˜è®¤æ˜¯publicçš„</p>
<p>kotliné‡Œå±æ€§çš„getter/setterçš„å‡½æ•°,å’Œjavaçš„åŒºåˆ«ï¼š</p>
<p>â€‹	getter/setterå‡½æ•°æœ‰äº†ä¸“é—¨çš„å…³é”®å­—get/set</p>
<p>â€‹	getter/setterå‡½æ•°ä½äºvaræ‰€å£°æ˜çš„å˜é‡ä¸‹é¢</p>
<p>â€‹	setterå‡½æ•°å‚æ•°æ˜¯value</p>
<p>â€‹	set/geté‡Œå±æ€§å€¼åç§°æˆäº†field</p>
<p>kotlinä¸­çš„ç±»é»˜è®¤æ˜¯public ï¼Œç±»çš„ç»§æ‰¿åœ¨kotlinæ˜¯ï¼šï¼Œå…¶å®ï¼šä¸ä»…å¯ä»¥è¡¨ç¤ºç»§æ‰¿ï¼Œè¿˜å¯ä»¥è¡¨ç¤ºjavaä¸­çš„implementã€‚</p>
<p>javaä¸­çš„overrideæ˜¯æ³¨è§£ï¼Œkotlinä¸­çš„overrideæ˜¯å…³é”®å­—ã€‚kotlinçš„overrideå‡½æ•°çš„å¯è§æ€§ç»§æ‰¿è‡ªçˆ¶ç±»çš„ã€‚</p>
<p>Kotlinä¸­çš„ç±»é»˜è®¤æ˜¯finalçš„ï¼Œæ‰€ä»¥æ— æ³•ç»§æ‰¿ï¼Œä¸javaç±»é»˜è®¤æƒé™ä¸ä¸€è‡´ã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡åŠ ä¸Šå…³é”®å­—openè§£é™¤finalé™åˆ¶ï¼Œå°±å¯ä»¥ç»§æ‰¿äº†ã€‚openæ²¡æœ‰çˆ¶ç±»åˆ°å­ç±»çš„é—ä¼ æ€§ï¼Œä½†æ˜¯overrideæ˜¯æœ‰é—ä¼ æ€§çš„ï¼Œå¯ä»¥é—ä¼ æƒé™ã€‚å¦‚æœè¦å…³é—­overrideçš„é—ä¼ æ€§ï¼Œåœ¨å‰é¢åŠ ä¸Šfinalå…³é”®å­—å°±å¯ä»¥ã€‚</p>
<p>kotlinå®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ï¼Œä¸éœ€è¦newå…³é”®å­—</p>
<p>ç±»å‹çš„åˆ¤æ–­å’Œå¼ºè½¬</p>
<p>javaé‡Œï¼Œéœ€è¦å…ˆè¯•ç”¨instanceofå…³é”®å­—åˆ¤æ–­ç±»å‹å†é€šè¿‡å¼ºè½¬æ¥è°ƒç”¨</p>
<pre><code class="language-java">void main() {
    Activity activity = new NewActivity();
    if (activity instanceof NewActivity) {
        ((NewActivity) activity).action();
    }
}
</code></pre>
<p>kotliné‡Œä¹Ÿæœ‰ç±»ä¼¼çš„ï¼Œä½¿ç”¨iså…³é”®å­—è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œå¹¶ä¸”å› ä¸ºç¼–è¯‘å™¨èƒ½å¤Ÿè¿›è¡Œç±»å‹æ¨æ–­ï¼Œå¯ä»¥å¸®åŠ©çœç•¥å¼ºè½¬çš„å†™æ³•:</p>
<pre><code class="language-kotlin">fun main() {
    var activity: Activity = NewActivity()
    if (activity is NewActivity) {
        // ğŸ‘‡çš„å¼ºè½¬ç”±äºç±»å‹æ¨æ–­è¢«çœç•¥äº†
        activity.action()
    }
}
</code></pre>
<p>ä¹Ÿå¯ä»¥ä¸è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œç›´æ¥è¿›è¡Œå¼ºè½¬è°ƒç”¨ã€‚å¯ç”¨aså…³é”®å­—</p>
<pre><code class="language-kotlin">fun main() {
    var activity: Activity = NewActivity()
    (activity as NewActivity).action()
}
</code></pre>
<p>ä½†æ˜¯è¿™æ ·å†™ï¼Œå¦‚æœå¼ºè½¬æˆä¸€ä¸ªé”™è¯¯çš„ç±»å‹ï¼Œç¨‹åºå°±ä¼šæŠ›å¼‚å¸¸ã€‚</p>
<p>å¦‚æœè¦è¿›è¡Œå®‰å…¨çš„å¼ºè½¬ï¼Œå¯ä»¥ç”¨as?æ¥è§£å†³ï¼š</p>
<pre><code class="language-kotlin">fun main() {
    var activity: Activity = NewActivity()
    // ğŸ‘‡'(activity as? NewActivity)' ä¹‹åæ˜¯ä¸€ä¸ªå¯ç©ºç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥ï¼Œéœ€è¦ä½¿ç”¨ '?.' æ¥è°ƒç”¨
    (activity as? NewActivity)?.action()
}
</code></pre>
<p>è¿™æ„æ€å°±æ˜¯å¦‚æœå¼ºè½¬æˆåŠŸå°±æ‰§è¡Œä¹‹åçš„è°ƒç”¨ï¼Œå¦‚æœå¼ºè½¬ä¸æˆåŠŸå°±ä¸æ‰§è¡Œã€‚</p>
<p>æ€è€ƒè¿™ä¸‰ä¸ªå†™æ³•çš„åŒºåˆ«</p>
<pre><code class="language-kotlin">activity as? NewActivity
activity as NewActivity?
activity as? NewActivity?
</code></pre>
<p>è§£ï¼šç¬¬ä¸€ç§as?æ˜¯ä»£è¡¨å¼ºè½¬å¯èƒ½ä¼šå¤±è´¥ï¼Œä½†æ˜¯ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼›</p>
<p>ç¬¬äºŒç§ NewActivity? ä»£è¡¨ asè½¬æ¢åçš„ç»“æœæ˜¯å¯ç©ºçš„ï¼Œæ‰€ä»¥éœ€è¦ç”¨NewActivity?å˜é‡å»æ¥æ”¶è¿™ä¸ªç»“æœï¼›</p>
<p>ç¬¬ä¸‰ç§ as? NewActivity? é‡ç‚¹æ˜¯NewActivity?,æ‰€ä»¥å’Œç¬¬äºŒç§å†™æ³•æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</p>
]]></content>
    </entry>
</feed>